import{_ as f,c as t,a as e,w as c,b as n,d as u,v as p,n as m,t as l,e as g,A as w,o as a}from"./index-xP5tA43O.js";const h={name:"AuthSignup",data(){return{form:{email:"",password1:"",password2:""},errors:{},generalError:"",successMessage:"",loading:!1}},methods:{async handleSignup(){this.loading=!0,this.errors={},this.generalError="",this.successMessage="";try{const i=await w.signup(this.form.email,this.form.password1,this.form.password2);i.success&&(this.successMessage=i.message,setTimeout(()=>{window.opener.postMessage({type:"AUTH_SUCCESS",user:i.user},window.location.origin)},2e3))}catch(i){i.errors?this.errors=i.errors:this.generalError=i.error||"Registration failed"}finally{this.loading=!1}},switchToLogin(){this.$router.push("/auth/login")}}},y={class:"auth-popup"},v={class:"auth-container"},_={class:"form-group"},S={key:0,class:"error-message"},b={class:"form-group"},C={key:0,class:"error-message"},A={class:"form-group"},E={key:0,class:"error-message"},k={key:0,class:"alert alert-error"},M={key:1,class:"alert alert-success"},T=["disabled"],x={class:"auth-footer"};function V(i,s,U,N,r,d){return a(),t("div",y,[e("div",v,[s[10]||(s[10]=e("div",{class:"auth-header"},[e("h2",null,"Create Your Account"),e("p",null,"Join SkyNova today and explore our solutions.")],-1)),e("form",{onSubmit:s[3]||(s[3]=c((...o)=>d.handleSignup&&d.handleSignup(...o),["prevent"])),class:"auth-form"},[e("div",_,[s[5]||(s[5]=e("label",{for:"email"},"Email Address",-1)),u(e("input",{type:"email",id:"email","onUpdate:modelValue":s[0]||(s[0]=o=>r.form.email=o),class:m({error:r.errors.email}),placeholder:"Enter your email",required:""},null,2),[[p,r.form.email]]),r.errors.email?(a(),t("span",S,l(r.errors.email),1)):n("",!0)]),e("div",b,[s[6]||(s[6]=e("label",{for:"password1"},"Password",-1)),u(e("input",{type:"password",id:"password1","onUpdate:modelValue":s[1]||(s[1]=o=>r.form.password1=o),class:m({error:r.errors.password1}),placeholder:"Create a password (min. 8 characters)",required:""},null,2),[[p,r.form.password1]]),r.errors.password1?(a(),t("span",C,l(r.errors.password1),1)):n("",!0)]),e("div",A,[s[7]||(s[7]=e("label",{for:"password2"},"Confirm Password",-1)),u(e("input",{type:"password",id:"password2","onUpdate:modelValue":s[2]||(s[2]=o=>r.form.password2=o),class:m({error:r.errors.password2}),placeholder:"Confirm your password",required:""},null,2),[[p,r.form.password2]]),r.errors.password2?(a(),t("span",E,l(r.errors.password2),1)):n("",!0)]),r.generalError?(a(),t("div",k,l(r.generalError),1)):n("",!0),r.successMessage?(a(),t("div",M,[g(l(r.successMessage)+" ",1),s[8]||(s[8]=e("p",{class:"mt-2"},[e("small",null,"Registration successful! You can now log in. Email verification is optional.")],-1))])):n("",!0),e("button",{type:"submit",class:"btn-primary",disabled:r.loading},l(r.loading?"Creating Account...":"Create Account"),9,T)],32),e("div",x,[e("p",null,[s[9]||(s[9]=g("Already have an account? ")),e("a",{href:"#",onClick:s[4]||(s[4]=c((...o)=>d.switchToLogin&&d.switchToLogin(...o),["prevent"]))},"Sign in here")])])])])}const B=f(h,[["render",V],["__scopeId","data-v-6dcbc9e8"]]);export{B as default};
